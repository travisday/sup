parameters:
  - name: project
    type: string
    default: "development"

steps:
  - task: Yarn@3
    displayName: "run yarn install"
    inputs:
      projectDirectory: "functions"

  - task: Yarn@3
    displayName: "run yarn deploy"
    inputs:
      projectDirectory: "functions"
      arguments: "deploy --project ${{ parameters.project }} --token $(FIREBASE_TOKEN)"
